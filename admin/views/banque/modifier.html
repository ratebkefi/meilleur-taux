<div uploader="uploader" class="animated fadeInRight">
    <div class="row">
        <div class="col s12 m12 l12">
            <div class="card-panel">
                <h4 class="header2">Modification de la banque: {{banque.raison_social}}</h4>
                    <form name="banqueForm" ng-submit="modifier_banque(banque)" class="">
                        <div class="row">
                            <div class="file-field input-field col s12">
                                <div class="btn orange lighten-2">
                                    <span>Logo</span>
                                    <!-- Example: nv-file-select="" uploader="{Object}" options="{Object}" filters="{String}" -->
                                    <input type="file" nv-file-select="" uploader="uploader"/><br/>
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate" type="text" id="logo"
                                           name="logo">
                                </div>
                            </div>
                            <div ng-hide="true">
                                <div ng-repeat="banques in uploader.queue">
                                    <div ng-if="$last">
                                        <input ng-model="banques.file.name" type="text" name="name"
                                               ng-init="banques.file.name=generate()+'.jpg'">
                                        <input ng-model="banque.logo" type="text" name="name"
                                               ng-init="banque.logo=banques.file.name">
                                        <!-- Image preview -->
                                        <!--auto height-->
                                        <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
                                        <!--auto width-->
                                        <div ng-show="uploader.isHTML5"
                                             ng-thumb="{ file: banques._file, height: 100 }"></div>
                                        <!--fixed width and height -->
                                        <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
                                    </div>
                                    <div ng-if="$last" ng-show="uploader.isHTML5" nowrap>{{
                                        banque.file.size/1024/1024|number:2 }} MB
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div ng-hide="true">
                                    Queue progress:
                                    <div class="progress" style="">
                                        <div class="progress-bar" role="progressbar"
                                             ng-style="{ 'width': uploader.progress + '%' }"></div>
                                    </div>
                                </div>
                            </div>
                            <input ng-hide="true" ng-model="oldbanque.logo" type="text" name="name"
                                   ng-init="oldbanque.logo=uploader.queue[uploader.queue.length-1].file.name+'.jpg'">
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input ng-model="banque.raison_social" id="raison_social" type="text"
                                       name="raison_social" class="validate" required>
                                <label for="raison_social">Raison sociale</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m6 l6">
                                <input id="capital" ng-model="banque.capital" type="number" name="capital"
                                       class="validate" required>
                                <label for="capital">Capital</label>
                            </div>
                            <div class="input-field col s12 m6 l6">
                                <input id="adresse" ng-model="banque.adresse" type="text" name="adresse"
                                       class="validate" required>
                                <label for="adresse">Adresse</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m6 l6">
                                <input id="tel" string-to-number ng-model="banque.tel" type="number" name="tel"
                                       class="validate" required>
                                <label for="tel">Téléphone</label>
                            </div>
                            <div class="input-field col s12 m6 l6">

                                <input id="tel2" string-to-number ng-model="banque.tel2" type="number" name="tel2"
                                       class="validate">
                                <label for="tel2">Téléphone 2</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m6 l6">
                                <input id="fax" string-to-number ng-model="banque.fax" type="number" name="fax"
                                       class="validate">
                                <label for="fax">Fax</label>
                            </div>

                            <div class="input-field col s12 m6 l6">

                                <input id="site_web" ng-model="banque.site_web" type="url" name="site_web"
                                       class="validate" required>
                                <label for="site_web">Site web</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m6 l6">

                                <input id="email" ng-model="banque.email" type="email" name="email" class="validate"
                                >
                                <label for="email">E-mail</label>
                            </div>

                            <div class="input-field col s12 m6 l6">

                                <input id="url_devise" ng-model="banque.url_devise" type="url" name="url_devise"
                                       class="validate"
                                >
                                <label for="url_devise">URL de la devise</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m6 l6">
                                <div class="switch">
                                    <label for="offshore">Banque offshore
                                        <input id="offshore" ng-model="banque.offshore" type="checkbox" name="offshore">
                                        <span class="lever"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="input-field col s12 m6 l6">
                                <div class="switch">
                                    <label for="centrale">Banque centrale
                                        <input id="centrale" ng-model="banque.centrale" type="checkbox" name="centrale">
                                        <span class="lever"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <textarea id="remarque" ng-model="banque.remarque" name="name"
                                          class="validate materialize-textarea" length="120"></textarea>
                                <label for="remarque">Remarque</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <button type="submit" class="btn orange lighten-2" ng-click="uploader.uploadAll()">Modifier
                                </button>
                            </div>
                        </div>
                    </form>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('textarea#remarque').characterCounter();
    });
</script>